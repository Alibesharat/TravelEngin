@model TravelEngin.ViewModels.PostData
@using DNTPersianUtils.Core
@{
    ViewData["Title"] = @Model.Data.Title;
    var currentDate = DateTime.Now;
}

 <div class="row">
    </br></br>
     <div class="wizard">
        <!-- Step 1 -->
        <div class="step" id="step-1">
            <div class="col s12 m6 offset-m3">
                <div class="card gray-color ">
                    <div class="card-content black-text">
                        <span class="card-title center"> آگهی دیوار : @Model.Data.Title   </span>
                        <br>
                        <p class="center">سرویس مد نظر خود را انتخاب کنید</p>
                        <br>
                        <div class="card bronze hoverable" onclick="nextStep(1,1)" style="cursor: pointer;">
                            <div class="card-content center black-text">
                                <p class="pricing-header" dir="ltr" > سرویس برنزی  (چهارصد و نود هزارتومان)</p>
                            <ul class="details">
                                <li> بررسی ظاهری دستگاه</li>
                                <li>مشاوره عمومی قبل از خرید  </li>
                                 <li>بررسی مکانیک و الکترونیک و لوزام دستگاه</li>
                                <li>بدون گارانتی </li>
                                <li>بدون نصب و راه اندازی</li>
                            </ul>
                            </div>
                        </div>
                        <div class="card silver black-text hoverable" onclick="nextStep(1,2)" style="cursor: pointer;">
                            <div class="card-content center">
                                <p class="pricing-header" dir="ltr">  (نهصد و هشتاد هزارتومان ) سرویس نقره ای </p>
                                  <ul class="details">
                                <li> شامل  تمامی خدمات سرویس برنزی</li>
                                <li>مشاوره تخصصی قبل از خرید  </li>
                                <li>بررسی قطعات مصرفی</li>
                                <li>تاییده فابریکی بودن قطعات</li>
                                <li>اعلام کنتور و بررسی عمر دستگاه</li>
                                <li>پشتیبانی سی روزه دستگاه  </li>
                                <li>استعلام قیمت براساس مشخصات دستگاه شما و متناسب با نرخ بازار و معاملات روز </li>
                                <li> نصب و راه اندازی</li>
                            </ul>
                            </div>
                        </div>
                        <div class="card gold darken-4 hoverable" onclick="nextStep(1,3)" style="cursor: pointer;">
                            <div class="card-content center">
                                <p class="pricing-header" dir="ltr"> ( یک میلیون چهارصد و هشتاد هزارتومان ) سرویس طلایی </p>
                               <ul class="details">
                                <li>شامل تمامی خدمات سرویس نقره ای</li>
                                <li>تست دستگاه زیر فشار و کار زیاد</li>
                                  <li>پشتیبانی یک ساله دستگاه  </li>
                                  <li>آموزش آنلاین کاربری دستگاه</li>
                                  <li>ضمانت سه ماهه </li>
                                   <li>ارسال رایگان با بسته بندی انحصاری موتور ساخت سفر + بیمه حمل و نقل به تمام نقاط ایران</li>
                               </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Step 2 -->
        <div class="step" id="step-2" style="display: none;" >
            <div class="col s12 m6 offset-m3">
                <div class="card gray-color  ">
                     <a class="btn-floating halfway-fab waves-effect waves-light red"  onclick="prevStep(2)"><i class="material-icons">arrow_forward</i></a>
                    <div class="card-content white-text">
                        <span class="card-title center black-text"> انتخاب زمان  </span>
                        <br>
                        <p class="center black-text">  در چه زمانی میخواهید کارشناس حضور پیدا کند ؟   </p>
                        <br>
                        <div class="card lime  black-text hoverable" onclick="nextStep(2,1)" style="cursor: pointer;">
                            <div class="card-content center">
                                <p>@currentDate.AddDays(1).ToPersianDateTextify()</p>
                            </div>
                        </div>
                          <div class="card lime lighten-2 black-text hoverable" onclick="nextStep(2,2)" style="cursor: pointer;">
                            <div class="card-content center">
                                <p> @currentDate.AddDays(2).ToPersianDateTextify()  </p>
                            </div>
                        </div>
                            <div class="card lime darken-4 black-text hoverable">
                            <div class="card-content center" onclick="nextStep(2,3)" style="cursor: pointer;">
                                <p> @currentDate.AddDays(3).ToPersianDateTextify()  </p>
                            </div>
                        </div>
                        <div class="card-action">
                          <p class="center black-text">   امروز : @currentDate.ToPersianDateTextify()    </p>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>

        <!-- Step 3 -->
        <div class="step" id="step-3" style="display: none;">
            <div class="col s12 m6 offset-m3">
                <div class="card gray-color  darken-1">
                    <a class="btn-floating halfway-fab waves-effect waves-light red"  onclick="prevStep(3)"><i class="material-icons">arrow_forward</i></a>
                    <div class="card-content white-text">
                        <span class="card-title center black-text"> اطلاعات شخصی  </span>
                        <br>
                        <p class="center black-text"> اطلاعات شخصی خود را اینجا وارد کنید</p>
                        <br>
                        <div class="card  ">
                            <div class="card-content grey darken-4 center white-text">
                                <form asp-action="Reservation" asp-asp-controller="Post" method="post">
                                      <br>
                                <p><input name="name" type="text" placeholder="نام و نام خانوادگی"/></p>
                                 <br>
                                <p><input name="mobile" type="number" placeholder=" شماره موبایل  "/></p>
                                <input name="option" id=option type="hidden" value="">
                                <input name="date" id=date type="hidden" value="">
                                  <br>
                                  <button class="next-btn" type="submit">ارسال</button>
                              </form>
                            </div>
                        </div>
                       
                    </div>
                </div>
            </div>
        </div>
    </div>
 </div>


 @section Scripts
 {
    <script>

let currentStep = 1;
let option = 1;
let date = 1;
let optionInput =  document.getElementById("option");
let dateInput  =  document.getElementById("date");


function showStep(step) {
    const steps = document.querySelectorAll('.step');

    // Hide all steps initially
    steps.forEach((element, index) => {
        element.classList.remove('active', 'exiting');
        element.style.display = 'none';
    });

    // Show the next step with animation
    const newStep = document.getElementById(`step-${step}`);
    newStep.style.display = 'block';
    setTimeout(() => {
        newStep.classList.add('active');
    }, 10); // Add small delay for transition to work
}

function nextStep(step,choose) {
    if(step == 1)
    {
       optionInput.value = choose;
    }
    if(step ==  2 )
    {
         dateInput.value = choose;
    }
    const current = document.getElementById(`step-${step}`);
    
    // Animate the current step as it exits
    current.classList.add('exiting');
    
    // Move to the next step after the transition ends
    setTimeout(() => {
        currentStep = step + 1;
        showStep(currentStep);
    }, 500); // This matches the duration of the CSS transition
}

function prevStep(step) {
    const current = document.getElementById(`step-${step}`);

    // Animate the current step as it exits
    current.classList.add('exiting');

    // Move to the previous step after the transition ends
    setTimeout(() => {
        currentStep = step - 1;
        showStep(currentStep);
    }, 500); // This matches the duration of the CSS transition
}

function submitWizard() {
    alert("تبریک فرم ارسال شد ");
    alert(option);
    alert(date);
}

// Initially display the first step
showStep(currentStep);
    </script>
 }

  

    

